<!DOCTYPE HTML>
<html lang="zh_TW">
    <head>
        <title>微生物要吃多少</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="RBC的生物要吃多少" />
        <!-- jQuery  -->
        <script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>
        <!-- Bootstrap -->
        <link rel="stylesheet" type="text/css"  href="http://cdn.bootcss.com/bootstrap/3.3.2/css/bootstrap.min.css" />
        <script type="text/javascript" src="http://cdn.bootcss.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    </head>
    <body>
        <div class=" col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 container">
            <div class='row'>
                <form>
                    <div class="form-group">
                        <label>進流量</label>
                        <div class="input-group col-xs-12 col-sm-10 col-md-8">
                            <input type="number" class="form-control q" id="Q" placeholder="Q">
                            <div class="input-group-addon">L</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>BOD</label>
                        <div class="input-group col-xs-12 col-sm-10 col-md-8">
                            <input type="number" class="form-control bod" id="BOD" placeholder="BOD">
                            <div class="input-group-addon">mg/L</div>
                        </div>
                    </div>
                </form>
                <button class="btn form-group btn-default col-xs-12 col-sm-10 col-md-8 cla">計算</button>
            </div>
            <div class ='row col-xs-12 col-sm-10 col-md-8'>
                <hr/>
                <form>
                    <div class="form-group">
                        <label>C<sub>12</sub>H<sub>22</sub>O<sub>11</sub></label>
                        <div class="input-group col-xs-12 col-sm-10 col-md-8 ">
                            <input class="form-control c12h22o11" disabled>
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>NH<sub>4</sub>Cl</label>
                        <div class="input-group col-xs-12 col-sm-10 col-md-8 ">
                            <input class="form-control nh4cl" disabled>
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>KH<sub>2</sub>PO<sub>4</sub></label>
                        <div class="input-group col-xs-12 col-sm-10 col-md-8 ">
                            <input class="form-control kh2po4" disabled>
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>K<sub>2</sub>HPO<sub>4</sub></label>
                        <div class="input-group col-xs-12 col-sm-10 col-md-8 ">
                            <input class="form-control k2hpo4" disabled>
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                </form>
                <hr/>
                <form>
                    <div class="form-group">
                        <div class="input-group col-xs-12 col-sm-8 col-md-4 ">
                            <div class="input-group-addon">C</div>
                            <input class="form-control c" disabled>
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group col-xs-12 col-sm-8 col-md-4 ">
                            <div class="input-group-addon">N</div>
                            <input class="form-control n" disabled>
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group col-xs-12 col-sm-8 col-md-4 ">
                            <div class="input-group-addon">P</div>
                            <input class="form-control p" disabled>
                            <div class="input-group-addon">g</div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </body>
    <!--javascript-->
    <script type='text/javascript'>
        $(document).ready(function(){
            $(".cla").click(function(){
                var active = /[0-9.]/;
                    var q = $('input.q').val();
                    var bod = $('input.bod').val();
                    if(!active.test(q) && !active.test(bod)){ //regexp跟null判斷
                        alert("輸入錯誤");}
                    else{
                        var c = bod*q/32/12*12*12;
                        var n = c/100*10;
                        var p = c/100*1;
                        var c12h22o11 = c/12/12*342;
                        var nh4cl = n/14/1*53.5;
                        var kh2po4 = p*(2/3)/31/1*136.1;
                        var k2hpo4 = p*(1/3)/31/1*174.2;
                        $("input.c12h22o11").val( Math.round(c12h22o11/1000 *10000)/10000);
                        $("input.nh4cl").val( Math.round(nh4cl/1000 *10000)/10000);
                        $("input.kh2po4").val( Math.round(kh2po4/1000 *10000)/10000);
                        $("input.k2hpo4").val( Math.round(k2hpo4/1000 *10000)/10000);
                        $("input.c").val(c/1000);
                        $("input.n").val(n/1000);
                        $("input.p").val(p/1000);
                    }
            });
        });
    </script>

    <!-- css -->
    <style type="text/css">
        body
        {
            background-color: #212121;
            color: #FFFFFF;
        }
        label
        {
            color: #FFECB3;
        }
        hr
        {
            color: #FFFFFF;
            size: 5px;
        }

    </style>
</html>